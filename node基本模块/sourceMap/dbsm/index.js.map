{"version":3,"sources":["activity/turnCircle/4.0/index_develop.js"],"names":["_typeof2","Symbol","iterator","obj","constructor","prototype","r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","$","activity","thanksDeg","_UA","navigator","userAgent","toLowerCase","hasNoTimes","againOrderId","speed","timeout","running","lastResult","isShowBuoy","init","this","loadFiles","styleCb","optionCb","loadCb","events","result","self","config","requireStyle","setConfig","append","getStyle","match","show","data","renderElement","options","forEach","item","index","_img","image","ossimg","_item","id","prizeType","title","hidden","_prize","description","reset","initAppleDesc","on","toggleClass","window","scrollTop","document","height","GetPrizeDetail","url","optionId","click","onUserJoin","start","getOrder","ajaxData","getActivityOrder","success","res","getActivityErrorCode","setTimeout","getLottery","orderId","rotateError","error","XHR","status","xhr","abort","showModal","message","getActivityLottery","rotateFn","thanksIndex","find","rotate","rotateStart","addClass","angle","getRotateAngle","animateTo","duration","easing","x","b","d","callback","type","stopRotate","showThanks","close","hideModal","againTag","angles","each","element","lottery","clearTimeout","lightTimer","showActivityResult","reInit","bind","toggleLight","_result","createErrorObject","setModalInterval","clickCallback","btnCallback","errorMsgModal","_this","showPlugin","hide","removeClass","ontouchmove","html","getActivityStatusText","limitTimes","CFG","preview","extend","Public","Zepto","../rotate","2","jQuery","supportedCSS","styles","getElementsByTagName","style","toCheck","split","undefined","IE","eval","fn","parameters","returned","i0","get","Wilq32","PhotoEffect","_handleRotation","paramClone","newRotObject","_rootObj","push","ret","_angle","_timer","img","_eventObj","createElement","display","parentNode","insertBefore","complete","_Loader","_setupParameters","_parameters","step","_BindEvents","_rotate","_animateStart","oldEvents","hasOwnProperty","unbind","width","removeChild","_vimage","createVMLNode","src","position","top","left","_container","setAttribute","appendChild","getAttribute","className","_width","_height","_widthHalf","_heightHalf","_widthMax","Math","sqrt","_widthAdd","_heightAdd","_widthAddHalf","_heightAddHalf","_aspectW","parseInt","_aspectH","_canvas","_cnv","getContext","_animateStartTime","Date","_animateStartAngle","_animate","actualTime","checkEnd","animatedGif","rad","PI","rotation","translate","scale","drawImage","createStyleSheet","addRule","namespaces","rvml","add","tagName","../../../../unit/lib/lib-zepto.extend/1.0.0/zepto.extend","3","_typeof","name","copy","copyIsArray","clone","target","arguments","deep","isFunction","isPlainObject","isArray"],"mappings":"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","file":"index_201808081611.js","sourcesContent":["var _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function () {\n  function r(e, n, t) {\n    function o(i, f) {\n      if (!n[i]) {\n        if (!e[i]) {\n          var c = \"function\" == typeof require && require;if (!f && c) return c(i, !0);if (u) return u(i, !0);var a = new Error(\"Cannot find module '\" + i + \"'\");throw a.code = \"MODULE_NOT_FOUND\", a;\n        }var p = n[i] = { exports: {} };e[i][0].call(p.exports, function (r) {\n          var n = e[i][1][r];return o(n || r);\n        }, p, p.exports, r, e, n, t);\n      }return n[i].exports;\n    }for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) {\n      o(t[i]);\n    }return o;\n  }return r;\n})()({ 1: [function (require, module, exports) {\n    ;\n    (function ($) {\n      require('../rotate');\n\n      // activity start\n      var activity = {\n        thanksDeg: null,\n        _UA: navigator.userAgent.toLowerCase(),\n        hasNoTimes: false,\n        againOrderId: null,\n        speed: 2600,\n        timeout: false,\n        running: false,\n        lastResult: null,\n        isShowBuoy: false,\n        init: function init() {\n          var self = this;\n\n          this.loadFiles({\n            styleCb: this.styleCb,\n            optionCb: this.optionCb,\n            loadCb: this.loadCb\n          });\n          this.events();\n        },\n        styleCb: function styleCb(result) {\n          var self = activity;\n          var config = [['body', 'backgroundColor', 'bgColor'], ['.banner img', 'image', 'theme'], ['#db-content', 'backgroundImage', 'bgImage'], ['.record', 'backgroundImage', 'record'], ['.rules header', 'backgroundImage', 'ruleImage'], ['.prize-list header', 'backgroundImage', 'prizesImage'], ['.prize-group p,.prize-group li', 'color', 'prizesDes'], ['.apple', 'color', 'apple'], ['#circle', 'backgroundImage', 'turntable'], ['.radius-group', 'backgroundColor', 'turntableBorder'], ['.point', 'backgroundImage', 'point'], ['#start', 'backgroundImage', 'start'], ['#start.disabled', 'backgroundImage', 'startActive'], ['.rules', 'color', 'ruleTextColor']];\n          requireStyle.init(result, config);\n          requireStyle.setConfig('.rules section', 'html', 'ruleText');\n          $('head').append('<style>.needCredits p{box-shadow:0 0 0.05rem ' + requireStyle.getStyle('statusShadow') + ', 0 0 0.05rem ' + requireStyle.getStyle('statusShadow') + 'inset;-webkit-box-shadow:0 0 0.05rem ' + requireStyle.getStyle('statusShadow') + ', 0 0 0.05rem ' + requireStyle.getStyle('statusShadow') + 'inset;text-shadow: 0 0 0.05rem ' + requireStyle.getStyle('statusText') + ';color:' + requireStyle.getStyle('statusText') + ';border-color:' + requireStyle.getStyle('statusText') + ';}</style>)');\n\n          if (self._UA.match(/m571c|vivo/ig)) {\n            /**\n             *  手机圆盘border-radius兼容\n             *  魅族Note2,vivo\n             */\n            $('head').append('<style>.radius-group{-webkit-background-clip: padding-box;background-clip: padding-box;}</style>');\n          }\n          $('#db-content').show();\n        },\n        optionCb: function optionCb(result) {\n          var self = activity;\n          var data = result.data;\n          /*element part*/\n          self.renderElement(data);\n\n          /*option part*/\n          data.options.forEach(function (item, index) {\n            var _img = item.image;\n            if (typeof ''.ossimg === 'function') {\n              _img = _img.ossimg();\n            }\n            var _item = '<div class=\"prize\" data-index=\"' + index + '\" data-id=\"' + item.id + '\" data-type=\"' + item.prizeType + '\"> ' + '<div class=\"prize-dialog\">' + '<p>' + item.title + '</p>' + '<img src=\"' + _img + '\" alt=\"\" />' + '</div></div>';\n            $('#circle-box').append(_item);\n            if (!item.hidden) {\n              var _prize = '<div class=\"prize-group\"><li>' + item.title + '</li><p>' + (item.description || '') + '</p></div>';\n              $('#prize-list section').append(_prize);\n            }\n          });\n          self.reset();\n        },\n        loadCb: function loadCb() {\n          var self = activity;\n          initAppleDesc();\n        },\n        events: function events() {\n          var self = this;\n\n          /*\n           * 中奖概率说明\n           */\n          $('.probability-rules').on('click', function () {\n            $(this).toggleClass('active');\n            $(window).scrollTop($(document).height() - $(window).height());\n          });\n\n          /*\n           * 奖品详情\n           */\n          $('body').on('click', '.prize', function () {\n            if (!window.GetPrizeDetail) return;\n            if (self.running) return;\n            var prizeDetail = new GetPrizeDetail({\n              url: '/activity/getPrizeDetail',\n              prizeType: $(this).data('type'),\n              data: {\n                optionId: $(this).data('id')\n              }\n            });\n          });\n\n          $('#start').click(function () {\n            self.onUserJoin(function () {\n              self.start();\n            });\n          });\n\n          $('body').on('click', '.recommend-modal .close', function () {\n            self.reset();\n          });\n        },\n        getOrder: function getOrder() {\n          var self = this;\n          var ajaxData = {};\n          if (this.againOrderId) {\n            ajaxData.againOrderId = this.againOrderId;\n          }\n          this.getActivityOrder({\n            data: ajaxData,\n            success: function success(res) {\n              var code = self.getActivityErrorCode(res.code);\n              if (code == 'success') {\n                self.againOrderId = null;\n                self.renderElement(res.data);\n                self.isShowBuoy = res.data.isShowBuoy;\n                setTimeout(function () {\n                  self.getLottery(res.data.orderId);\n                }, 500);\n              } else if (code == 'networkError') {\n                // 未中奖 其他异常\n                self.rotateError('networkError');\n              } else if (code == 'over') {\n                // 次数用完\n                self.rotateError('over');\n              } else if (code == 'preview') {\n                self.rotateError('preview');\n              } else if (code == 'delete') {\n                //获取活动验证失败,活动获取不到或活动已删除\n                self.rotateError('delete');\n              } else if (code == 'orderLose') {\n                //创建订单失败\n                self.rotateError('orderLose');\n              } else if (code == 'participateLose') {\n                //用户参与失败\n                self.rotateError('participateLose');\n              } else if (code == 'verifyLose') {\n                //token校验失败\n                self.rotateError('verifyLose');\n              }\n            },\n            error: function error(XHR, status) {\n              if (status == 'timeout') {\n                window.xhr && window.xhr.abort();\n                self.showModal('systemError', {\n                  message: '请求超时'\n                });\n              } else {\n                self.showModal('networkError');\n              }\n            }\n          });\n        },\n        getLottery: function getLottery(orderId) {\n          var self = this;\n          this.getActivityLottery({\n            data: {\n              orderId: orderId\n            },\n            success: function success(result) {\n              if (!self.timeout) {\n                result.status = self.getActivityErrorCode(result.code);\n                if (result.status == 'success' && result.data.status == 'wait') {\n                  // 轮询抽奖\n                  setTimeout(function () {\n                    self.getLottery(orderId);\n                  }, 1000);\n                } else if (result.status == 'cheatFilter') {\n                  //防作弊过滤\n                  self.rotateError('cheatFilter');\n                } else if (result.status == 'infoError') {\n                  //用户信息异常\n                  self.rotateError('infoError');\n                } else if (result.status == 'orderIdError') {\n                  //非法订单，订单号规则错误\n                  self.rotateError('orderIdError');\n                } else if (result.status == 'notOrderInfo') {\n                  //无此订单信息\n                  self.rotateError('notOrderInfo');\n                } else if (result.status == 'powerError') {\n                  //权限异常，访问用户和下单用户ID不一致\n                  self.rotateError('powerError');\n                } else if (result.status == 'adInfoLose') {\n                  //构建结果异常 ,查询广告信息失败\n                  self.rotateError('adInfoLose');\n                } else if (result.status == 'buildError') {\n                  //构建结果异常 ,无实物／支付宝／虚拟奖品／话费中奖纪录\n                  self.rotateError('buildError');\n                } else {\n                  self.rotateFn(result);\n                }\n              }\n            },\n            error: function error(XHR, status) {\n              if (status == 'timeout') {\n                window.xhr && window.xhr.abort();\n                self.showModal('systemError', {\n                  message: '请求超时'\n                });\n              } else {\n                self.showModal('networkError');\n              }\n            }\n          });\n        },\n        reset: function reset() {\n          var self = this;\n          /*\n           * 默认转动到谢谢参与\n           */\n          var thanksIndex = $('.circle-box').find('[data-type=thanks]').data('index');\n          self.thanksDeg = (7 - thanksIndex) * 45 + 22.5;\n          // if (thanksIndex == 1) {\n          //  thanksDeg = -22.5;\n          // }\n          $('#circle').rotate(self.thanksDeg);\n        },\n        rotateStart: function rotateStart() {\n          var self = this;\n          this.timeout = false;\n          this.running = true;\n          $('#start').addClass('disabled');\n          $('#circle').rotate({\n            angle: self.getRotateAngle(),\n            animateTo: 360 * 20,\n            duration: self.speed * 20,\n            easing: function easing(x, t, b, c, d) {\n              return t / 1.6;\n            },\n            callback: function callback() {\n              /*\n               * 超过最大等待时间\n               */\n              self.timeout = true;\n              window.xhr && window.xhr.abort();\n              self.showModal('networkError');\n            }\n          });\n        },\n        rotateError: function rotateError(type, result) {\n          var self = this;\n          $('#circle').stopRotate();\n          $('#circle').rotate({\n            angle: self.getRotateAngle(),\n            animateTo: self.thanksDeg + 360 * 2,\n            duration: self.speed * 1,\n            easing: function easing(x, t, b, c, d) {\n              return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n            },\n            callback: function callback() {\n              if (type === 'noPrize') {\n                window.showThanks({\n                  result: self.lastResult,\n                  callback: {\n                    close: function close() {\n                      self.hideModal();\n                    }\n                  }\n                });\n                return;\n              }\n              self.showModal(type, result);\n            }\n          });\n        },\n        rotateFn: function rotateFn(result) {\n          var self = this;\n          if (result.status == 'success') {\n            this.againOrderId = result.data.againTag ? result.data.againTag : null;\n            self.lastResult = result.data;\n            switch (result.data.result) {\n              case 0:\n                // 谢谢参与\n                self.rotateError('noPrize');\n                break;\n              case 1:\n                // 再来一次\n                self.rotateError('again');\n                break;\n              case 2:\n                // 中奖\n                var angles;\n                $('#circle .prize').each(function (index, element) {\n                  if ($(this).data('id') == result.data.lottery.id) {\n                    angles = (7 - $(this).data('index')) * 45 + 22.5;\n                    return;\n                  }\n                });\n                angles = angles + 360 * 1;\n\n                $('#circle').stopRotate();\n                $('#circle').rotate({\n                  angle: self.getRotateAngle(),\n                  animateTo: angles,\n                  duration: self.speed * 1,\n                  easing: function easing(x, t, b, c, d) {\n                    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n                  },\n                  callback: function callback() {\n                    clearTimeout(window.lightTimer);\n                    $('.radius-group').addClass('end');\n                    setTimeout(function () {\n                      self.showActivityResult({\n                        result: result,\n                        reInit: self.reInit.bind(self),\n                        start: self.start.bind(self)\n                      });\n                    }, 300);\n                  }\n                });\n                break;\n            }\n          } else if (result.status == 'failed') {\n            // 未中奖\n            self.rotateError('noPrize');\n          } else if (result.status == 'networkError') {\n            // 网络异常\n            self.rotateError('networkError');\n          }\n        },\n        start: function start() {\n          if (this.running) return;\n          if (this.hasNoTimes) {\n            this.showModal('over');\n          } else {\n            this.toggleLight();\n            this.rotateStart();\n            this.getOrder();\n          }\n        },\n        toggleLight: function toggleLight() {\n          var self = this;\n          window.lightTimer = setTimeout(function () {\n            $('.radius-group').toggleClass('toggle');\n            self.toggleLight();\n          }, 500);\n        },\n        showModal: function showModal(type, result) {\n          var self = this;\n          var _result = this.createErrorObject(type, result);\n          if (_result.type === 'over') {\n            self.setModalInterval('showRecommend');\n          } else {\n            _result.clickCallback = function () {\n              self.hideModal();\n            };\n            if (_result.type === 'again') {\n              _result.btnCallback = function () {\n                self.hideModal();\n                self.running = false;\n                self.start();\n              };\n            }\n            window.errorMsgModal.show(_result);\n          }\n        },\n        hideModal: function hideModal() {\n          var _this = this;\n\n          this.reInit();\n          setTimeout(function () {\n            if (_this.hasNoTimes) {\n              _this.showModal('over');\n            } else {\n              _this.showPlugin(_this.isShowBuoy);\n            }\n          }, 600);\n        },\n        reInit: function reInit() {\n          $('.prize-modal').hide();\n          $('#db-content').removeClass('filter-blur');\n          document.ontouchmove = null;\n          this.running = false;\n          clearTimeout(window.lightTimer);\n          $('#start').removeClass('disabled');\n        },\n        getRotateAngle: function getRotateAngle() {\n          return $('#circle').getRotateAngle() % 60;\n        },\n        renderElement: function renderElement(result) {\n          $('.needCredits p').html(this.getActivityStatusText(result)).show();\n          if (!result.limitTimes && !CFG.preview) {\n            this.hasNoTimes = true;\n          } else {\n            this.hasNoTimes = false;\n          }\n        }\n        // activity end\n\n      };activity = $.extend({}, activity, window.Public);\n\n      activity.init();\n    })(Zepto);\n  }, { \"../rotate\": 2 }], 2: [function (require, module, exports) {\n    /**\n     * @note    转动\n     * @author  \n     * @date    2016-09-20\n     * @des     \n     */\n    ;\n    (function ($) {\n\n      require('../../../../unit/lib/lib-zepto.extend/1.0.0/zepto.extend');\n\n      var jQuery = Zepto;\n      var supportedCSS,\n          styles = document.getElementsByTagName(\"head\")[0].style,\n          toCheck = \"transformProperty WebkitTransform OTransform msTransform MozTransform\".split(\" \");\n      for (var a = 0; a < toCheck.length; a++) {\n        if (styles[toCheck[a]] !== undefined) supportedCSS = toCheck[a];\n      } // Bad eval to preven google closure to remove it from code o_O\n      // After compresion replace it back to var IE = 'v' == '\\v'\n      var IE = eval('\"v\"==\"\\v\"');\n\n      jQuery.fn.extend({\n        rotate: function rotate(parameters) {\n          if (this.length === 0 || typeof parameters == \"undefined\") return;\n          if (typeof parameters == \"number\") parameters = {\n            angle: parameters\n          };\n          var returned = [];\n          for (var i = 0, i0 = this.length; i < i0; i++) {\n            var element = this.get(i);\n            if (!element.Wilq32 || !element.Wilq32.PhotoEffect) {\n\n              var paramClone = $.extend(true, {}, parameters);\n              var newRotObject = new Wilq32.PhotoEffect(element, paramClone)._rootObj;\n\n              returned.push($(newRotObject));\n            } else {\n              element.Wilq32.PhotoEffect._handleRotation(parameters);\n            }\n          }\n          return returned;\n        },\n        getRotateAngle: function getRotateAngle() {\n          var ret = [];\n          for (var i = 0, i0 = this.length; i < i0; i++) {\n            var element = this.get(i);\n            if (element.Wilq32 && element.Wilq32.PhotoEffect) {\n              ret[i] = element.Wilq32.PhotoEffect._angle;\n            }\n          }\n          return ret;\n        },\n        stopRotate: function stopRotate() {\n          for (var i = 0, i0 = this.length; i < i0; i++) {\n            var element = this.get(i);\n            if (element.Wilq32 && element.Wilq32.PhotoEffect) {\n              clearTimeout(element.Wilq32.PhotoEffect._timer);\n            }\n          }\n        }\n      });\n\n      // Library agnostic interface\n\n      Wilq32 = window.Wilq32 || {};\n      Wilq32.PhotoEffect = function () {\n\n        if (supportedCSS) {\n          return function (img, parameters) {\n            img.Wilq32 = {\n              PhotoEffect: this\n            };\n\n            this._img = this._rootObj = this._eventObj = img;\n            this._handleRotation(parameters);\n          };\n        } else {\n          return function (img, parameters) {\n            // Make sure that class and id are also copied - just in case you would like to refeer to an newly created object\n            this._img = img;\n\n            this._rootObj = document.createElement('span');\n            this._rootObj.style.display = \"inline-block\";\n            this._rootObj.Wilq32 = {\n              PhotoEffect: this\n            };\n            img.parentNode.insertBefore(this._rootObj, img);\n\n            if (img.complete) {\n              this._Loader(parameters);\n            } else {\n              var self = this;\n              // TODO: Remove jQuery dependency\n              jQuery(this._img).bind(\"load\", function () {\n                self._Loader(parameters);\n              });\n            }\n          };\n        }\n      }();\n\n      Wilq32.PhotoEffect.prototype = {\n        _setupParameters: function _setupParameters(parameters) {\n          this._parameters = this._parameters || {};\n          if (typeof this._angle !== \"number\") this._angle = 0;\n          if (typeof parameters.angle === \"number\") this._angle = parameters.angle;\n          this._parameters.animateTo = typeof parameters.animateTo === \"number\" ? parameters.animateTo : this._angle;\n\n          this._parameters.step = parameters.step || this._parameters.step || null;\n          this._parameters.easing = parameters.easing || this._parameters.easing || function (x, t, b, c, d) {\n            return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n          };\n          this._parameters.duration = parameters.duration || this._parameters.duration || 1000;\n          this._parameters.callback = parameters.callback || this._parameters.callback || function () {};\n          if (parameters.bind && parameters.bind != this._parameters.bind) this._BindEvents(parameters.bind);\n        },\n        _handleRotation: function _handleRotation(parameters) {\n          this._setupParameters(parameters);\n          if (this._angle == this._parameters.animateTo) {\n            this._rotate(this._angle);\n          } else {\n            this._animateStart();\n          }\n        },\n\n        _BindEvents: function _BindEvents(events) {\n          if (events && this._eventObj) {\n            // Unbinding previous Events\n            if (this._parameters.bind) {\n              var oldEvents = this._parameters.bind;\n              for (var a in oldEvents) {\n                if (oldEvents.hasOwnProperty(a))\n                  // TODO: Remove jQuery dependency\n                  jQuery(this._eventObj).unbind(a, oldEvents[a]);\n              }\n            }\n\n            this._parameters.bind = events;\n            for (var a in events) {\n              if (events.hasOwnProperty(a))\n                // TODO: Remove jQuery dependency\n                jQuery(this._eventObj).bind(a, events[a]);\n            }\n          }\n        },\n\n        _Loader: function () {\n          if (IE) return function (parameters) {\n            var width = this._img.width;\n            var height = this._img.height;\n            this._img.parentNode.removeChild(this._img);\n\n            this._vimage = this.createVMLNode('image');\n            this._vimage.src = this._img.src;\n            this._vimage.style.height = height + \"px\";\n            this._vimage.style.width = width + \"px\";\n            this._vimage.style.position = \"absolute\"; // FIXES IE PROBLEM - its only rendered if its on absolute position!\n            this._vimage.style.top = \"0px\";\n            this._vimage.style.left = \"0px\";\n\n            /* Group minifying a small 1px precision problem when rotating object */\n            this._container = this.createVMLNode('group');\n            this._container.style.width = width;\n            this._container.style.height = height;\n            this._container.style.position = \"absolute\";\n            this._container.setAttribute('coordsize', width - 1 + ',' + (height - 1)); // This -1, -1 trying to fix ugly problem with small displacement on IE\n            this._container.appendChild(this._vimage);\n\n            this._rootObj.appendChild(this._container);\n            this._rootObj.style.position = \"relative\"; // FIXES IE PROBLEM\n            this._rootObj.style.width = width + \"px\";\n            this._rootObj.style.height = height + \"px\";\n            this._rootObj.setAttribute('id', this._img.getAttribute('id'));\n            this._rootObj.className = this._img.className;\n            this._eventObj = this._rootObj;\n            this._handleRotation(parameters);\n          };else return function (parameters) {\n            this._rootObj.setAttribute('id', this._img.getAttribute('id'));\n            this._rootObj.className = this._img.className;\n\n            this._width = this._img.width;\n            this._height = this._img.height;\n            this._widthHalf = this._width / 2; // used for optimisation\n            this._heightHalf = this._height / 2; // used for optimisation\n\n            var _widthMax = Math.sqrt(this._height * this._height + this._width * this._width);\n\n            this._widthAdd = _widthMax - this._width;\n            this._heightAdd = _widthMax - this._height; // widthMax because maxWidth=maxHeight\n            this._widthAddHalf = this._widthAdd / 2; // used for optimisation\n            this._heightAddHalf = this._heightAdd / 2; // used for optimisation\n\n            this._img.parentNode.removeChild(this._img);\n\n            this._aspectW = (parseInt(this._img.style.width, 10) || this._width) / this._img.width;\n            this._aspectH = (parseInt(this._img.style.height, 10) || this._height) / this._img.height;\n\n            this._canvas = document.createElement('canvas');\n            this._canvas.setAttribute('width', this._width);\n            this._canvas.style.position = \"relative\";\n            this._canvas.style.left = -this._widthAddHalf + \"px\";\n            this._canvas.style.top = -this._heightAddHalf + \"px\";\n            this._canvas.Wilq32 = this._rootObj.Wilq32;\n\n            this._rootObj.appendChild(this._canvas);\n            this._rootObj.style.width = this._width + \"px\";\n            this._rootObj.style.height = this._height + \"px\";\n            this._eventObj = this._canvas;\n\n            this._cnv = this._canvas.getContext('2d');\n            this._handleRotation(parameters);\n          };\n        }(),\n\n        _animateStart: function _animateStart() {\n          if (this._timer) {\n            clearTimeout(this._timer);\n          }\n          this._animateStartTime = +new Date();\n          this._animateStartAngle = this._angle;\n          this._animate();\n        },\n        _animate: function _animate() {\n          var actualTime = +new Date();\n          var checkEnd = actualTime - this._animateStartTime > this._parameters.duration;\n\n          // TODO: Bug for animatedGif for static rotation ? (to test)\n          if (checkEnd && !this._parameters.animatedGif) {\n            clearTimeout(this._timer);\n          } else {\n            if (this._canvas || this._vimage || this._img) {\n              var angle = this._parameters.easing(0, actualTime - this._animateStartTime, this._animateStartAngle, this._parameters.animateTo - this._animateStartAngle, this._parameters.duration);\n              this._rotate(~~(angle * 10) / 10);\n            }\n            if (this._parameters.step) {\n              this._parameters.step(this._angle);\n            }\n            var self = this;\n            this._timer = setTimeout(function () {\n              self._animate.call(self);\n            }, 10);\n          }\n\n          // To fix Bug that prevents using recursive function in callback I moved this function to back\n          if (this._parameters.callback && checkEnd) {\n            this._angle = this._parameters.animateTo;\n            this._rotate(this._angle);\n            this._parameters.callback.call(this._rootObj);\n          }\n        },\n\n        _rotate: function () {\n          var rad = Math.PI / 180;\n          if (IE) return function (angle) {\n            this._angle = angle;\n            this._container.style.rotation = angle % 360 + \"deg\";\n          };else if (supportedCSS) return function (angle) {\n            this._angle = angle;\n            this._img.style[supportedCSS] = \"rotate3d(0,0,1,\" + angle % 360 + \"deg)\";\n          };else return function (angle) {\n            this._angle = angle;\n            angle = angle % 360 * rad;\n            // clear canvas \n            this._canvas.width = this._width + this._widthAdd;\n            this._canvas.height = this._height + this._heightAdd;\n\n            // REMEMBER: all drawings are read from backwards.. so first function is translate, then rotate, then translate, translate..\n            this._cnv.translate(this._widthAddHalf, this._heightAddHalf); // at least center image on screen\n            this._cnv.translate(this._widthHalf, this._heightHalf); // we move image back to its orginal \n            this._cnv.rotate(angle); // rotate image\n            this._cnv.translate(-this._widthHalf, -this._heightHalf); // move image to its center, so we can rotate around its center\n            this._cnv.scale(this._aspectW, this._aspectH); // SCALE - if needed ;)\n            this._cnv.drawImage(this._img, 0, 0); // First - we draw image\n          };\n        }()\n      };\n\n      if (IE) {\n        Wilq32.PhotoEffect.prototype.createVMLNode = function () {\n          document.createStyleSheet().addRule(\".rvml\", \"behavior:url(#default#VML)\");\n          try {\n            !document.namespaces.rvml && document.namespaces.add(\"rvml\", \"urn:schemas-microsoft-com:vml\");\n            return function (tagName) {\n              return document.createElement('<rvml:' + tagName + ' class=\"rvml\">');\n            };\n          } catch (e) {\n            return function (tagName) {\n              return document.createElement('<' + tagName + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"rvml\">');\n            };\n          }\n        }();\n      }\n    })(Zepto);\n  }, { \"../../../../unit/lib/lib-zepto.extend/1.0.0/zepto.extend\": 3 }], 3: [function (require, module, exports) {\n    var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n      return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n    } : function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n    };\n\n    Zepto.extend = Zepto.fn.extend = function () {\n      var options,\n          name,\n          src,\n          copy,\n          copyIsArray,\n          clone,\n          target = arguments[0] || {},\n          i = 1,\n          length = arguments.length,\n          deep = false;\n\n      // Handle a deep copy situation\n      if (typeof target === \"boolean\") {\n        deep = target;\n\n        // Skip the boolean and the target\n        target = arguments[i] || {};\n        i++;\n      }\n\n      // Handle case when target is a string or something (possible in deep copy)\n      if ((typeof target === \"undefined\" ? \"undefined\" : _typeof(target)) !== \"object\" && !Zepto.isFunction(target)) {\n        target = {};\n      }\n\n      // Extend Zepto itself if only one argument is passed\n      if (i === length) {\n        target = this;\n        i--;\n      }\n\n      for (; i < length; i++) {\n\n        // Only deal with non-null/undefined values\n        if ((options = arguments[i]) != null) {\n\n          // Extend the base object\n          for (name in options) {\n            src = target[name];\n            copy = options[name];\n\n            // Prevent never-ending loop\n            if (target === copy) {\n              continue;\n            }\n\n            // Recurse if we're merging plain objects or arrays\n            if (deep && copy && (Zepto.isPlainObject(copy) || (copyIsArray = Zepto.isArray(copy)))) {\n\n              if (copyIsArray) {\n                copyIsArray = false;\n                clone = src && Zepto.isArray(src) ? src : [];\n              } else {\n                clone = src && Zepto.isPlainObject(src) ? src : {};\n              }\n\n              // Never move original objects, clone them\n              target[name] = Zepto.extend(deep, clone, copy);\n\n              // Don't bring in undefined values\n            } else if (copy !== undefined) {\n              target[name] = copy;\n            }\n          }\n        }\n      }\n\n      // Return the modified object\n      return target;\n    };\n  }, {}] }, {}, [1]);"]}